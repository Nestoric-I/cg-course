1) глобальные переменные (
2) сделать быстрее move pieces
3) отдедить логику 
4) приизменении логики - изменить часть кода 
5) вычислять размер картинки 